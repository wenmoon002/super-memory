<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Express Courier Logistics & Delivery — Shipment Tracker</title>
<style>
:root{
  --bg:#f4f7fb; --card:#fff; --accent:#0056b3; --highlight:#0d6efd; --muted:#6b7280;
}
body{font-family:Inter,Arial,sans-serif;background:var(--bg);margin:0;padding:28px;color:#111}
.container{max-width:900px;margin:0 auto}
.card{background:var(--card);border-radius:14px;padding:28px;box-shadow:0 6px 22px rgba(0,0,0,0.06)}
.logo{width:60px;height:60px;border-radius:12px;background:linear-gradient(135deg,#0d6efd,#99c2ff);display:flex;align-items:center;justify-content:center;color:white;font-size:22px;font-weight:800;letter-spacing:1px}
h1{margin:0 0 8px;font-size:24px;color:var(--accent)}
h2{margin:0 0 4px;font-size:18px;color:#333;font-weight:600}
.controls{display:flex;gap:10px;margin-top:16px}
input[type="text"]{flex:1;padding:12px;border-radius:8px;border:1px solid #ccc;font-size:15px}
button{background:var(--accent);color:white;border:none;padding:10px 16px;border-radius:8px;cursor:pointer;font-weight:600;transition:0.2s}
button:hover{background:var(--highlight);}
.result{margin-top:28px}
.tracking-head{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}
.chip{background:#e3f2fd;color:var(--accent);padding:6px 12px;border-radius:20px;font-weight:600}
.timeline{display:flex;flex-direction:column;gap:20px;margin-top:24px}
.step{display:flex;gap:16px;align-items:center}
.dot{width:14px;height:14px;border-radius:50%;border:2px solid #e5e7eb;background:transparent;display:inline-block;flex-shrink:0;position:relative}
.dot.done{background:var(--highlight);border-color:var(--highlight)}
.step-body{flex:1}
.step-title{font-weight:700;display:flex;justify-content:space-between;align-items:center}
.step-time{color:var(--muted);font-size:13px;margin-top:4px}
.current{color:var(--highlight)}
.small{font-size:13px}
.notfound{padding:14px;background:#fff3cd;border-radius:8px;border:1px solid #ffeeba;color:#856404}
.footer{margin-top:32px;color:var(--muted);font-size:13px;text-align:center}
/* Progress Bar */
.progress-container{width:100%;height:10px;background:#e5e7eb;border-radius:5px;margin:20px 0;position:relative}
.progress-fill{height:100%;background:var(--highlight);border-radius:5px;width:0;transition:width 1s}
.truck{position:absolute;top:-12px;left:0;width:24px;height:24px;background:url('https://cdn-icons-png.flaticon.com/512/1995/1995567.png') no-repeat center/contain;transition:left 1s}
@media(max-width:640px){body{padding:16px}.card{padding:16px}}
</style>
</head>
<body>
<div class="container">
  <div class="card">
    <div style="display:flex;gap:16px;align-items:center;">
      <div class="logo">ECL</div>
      <div style="flex:1">
        <h1>Express Courier Logistics & Delivery</h1>
        <div class="muted">Track your shipment in real time. Enter your tracking number below.</div>
      </div>
    </div>

    <div class="controls">
      <input id="trackingInput" placeholder="Enter your tracking number" />
      <button id="trackBtn">Track Now</button>
    </div>

    <div id="progressBar" class="progress-container" style="display:none">
      <div class="progress-fill"></div>
      <div class="truck"></div>
    </div>

    <div id="result" class="result"></div>

    <div class="footer">&copy; 2025 Express Courier Logistics & Delivery — Reliable. Fast. Secure.</div>
  </div>
</div>

<script>
// Stages including Verification/Awaiting Clearance
const ALL_STAGES = ['Received','Sorting Hub','Verification','Shipping','Out for Delivery','Delivered'];

// Shipments with base date (replace with real API in production)
const shipments = {
  'ECL10001': { receivedDate: '2025-10-28T08:00:00Z' },
  'ECL10002': { receivedDate: '2025-10-27T09:15:00Z' },
  'ECL10003': { receivedDate: '2025-10-26T10:45:00Z' }
};

// Days after received for each stage
const stageSchedule = [
  {stage:'Sorting Hub',days:1},
  {stage:'Verification',days:2}, // show Awaiting Clearance
  {stage:'Shipping',days:3},
  {stage:'Out for Delivery',days:4},
  {stage:'Delivered',days:5}
];

const input=document.getElementById('trackingInput');
const btn=document.getElementById('trackBtn');
const result=document.getElementById('result');
const progressBar = document.getElementById('progressBar');
const progressFill = progressBar.querySelector('.progress-fill');
const truck = progressBar.querySelector('.truck');

btn.addEventListener('click',()=>track());
input.addEventListener('keyup',e=>{ if(e.key==='Enter') track(); });

function track(){
  const id=input.value.trim().toUpperCase();
  if(!id) return;
  const data=shipments[id];
  if(!data){
    progressBar.style.display = 'none';
    result.innerHTML=`<div class="notfound">Tracking number <strong>${id}</strong> not found. Please check and try again.</div>`;
    return;
  }
  renderTracking(id,data);
}

function renderTracking(id,data){
  const received = new Date(data.receivedDate);
  const now = new Date();
  const daysPassed = (now - received) / (1000*60*60*24);

  let current = 'Received';
  for (let i=0; i<stageSchedule.length; i++){
    if(daysPassed >= stageSchedule[i].days) current = stageSchedule[i].stage;
    else break;
  }

  // Build history
  const history = [{stage:'Received',time:received.toISOString()}];
  stageSchedule.forEach(s=>{
    if(daysPassed >= s.days){
      const time = new Date(received.getTime() + s.days*24*60*60*1000);
      history.push({stage:s.stage,time:time.toISOString()});
    }
  });

  const historyMap={}; history.forEach(h=>historyMap[h.stage]=h.time);

  // Render timeline
  let html = `<div class="tracking-head">
    <div>
      <div style="display:flex;gap:8px;align-items:center">
        <h2>Tracking Number: ${id}</h2>
        <div class="chip">${current === 'Verification' ? 'Verification - Awaiting Clearance' : current}</div>
      </div>
      <div class="muted small" style="margin-top:6px">
        Last update: ${new Date(history[history.length-1].time).toLocaleString()}
      </div>
    </div>
    <div class="small muted">Stage ${ALL_STAGES.indexOf(current)+1} of ${ALL_STAGES.length}</div>
  </div>
  <div class="timeline">`;

  ALL_STAGES.forEach((stage,idx)=>{
    const done = ALL_STAGES.indexOf(current) >= idx;
    html+=`<div class="step">
      <div class="dot ${done?'done':''}"></div>
      <div class="step-body">
        <div class="step-title ${done?'current':''}">${stage}${stage==='Verification'?' - Awaiting Clearance':''}</div>
        <div class="step-time">${historyMap[stage]?new Date(historyMap[stage]).toLocaleString():''}</div>
      </div>
    </div>`;
  });

  html += `</div>`;
  result.innerHTML = html;

  // Progress bar
  progressBar.style.display = 'block';
  const progressPercent = (ALL_STAGES.indexOf(current)/(ALL_STAGES.length-1))*100;
  progressFill.style.width = progressPercent + '%';
  truck.style.left = `calc(${progressPercent}% - 12px)`; // offset half truck width
}
</script>
</body>
</html>